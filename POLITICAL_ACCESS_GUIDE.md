# 政治观点访问权限管理功能

## 功能概述

政治观点页面现在使用基于姓名的访问控制，而不是简单的密码验证。管理员可以在后台管理系统中管理可访问政治观点页面的人员名单。

## 主要功能

### 1. 前端访问控制
- 用户访问政治观点页面时，需要输入姓名进行验证
- 系统会检查输入的姓名是否在允许访问的名单中
- 只有名单中的人员才能查看政治观点内容

### 2. 后台管理功能
- **查看访问权限列表**：显示所有已配置的访问权限
- **添加访问权限**：为新的用户添加访问权限
- **编辑访问权限**：修改现有用户的姓名、描述或状态
- **删除访问权限**：移除用户的访问权限
- **启用/停用权限**：可以临时停用某个用户的访问权限而不删除

## 使用方法

### 管理员操作

1. **登录后台管理系统**
   - 访问 `/admin` 页面
   - 使用管理员密码登录

2. **管理访问权限**
   - 点击"政治观点"标签页
   - 点击"管理访问权限"按钮
   - 在访问权限管理区域进行操作

3. **添加新用户**
   - 点击"添加第一个访问权限"或"新增访问权限"
   - 填写用户姓名（必填）
   - 可选填写描述信息
   - 选择是否启用该权限
   - 点击"创建"保存

4. **编辑用户权限**
   - 在用户列表中点击编辑按钮
   - 修改姓名、描述或状态
   - 点击"更新"保存

5. **删除用户权限**
   - 在用户列表中点击删除按钮
   - 确认删除操作

### 用户访问

1. **访问政治观点页面**
   - 访问 `/political` 页面
   - 在输入框中输入姓名
   - 点击验证按钮或按回车键

2. **验证结果**
   - 如果姓名在允许列表中，将显示政治观点内容
   - 如果姓名不在列表中，将显示错误提示

## 技术实现

### 后端API

- `GET /api/political-access` - 获取所有访问权限
- `GET /api/political-access/active` - 获取活跃的访问权限
- `POST /api/political-access/validate` - 验证访问权限
- `POST /api/political-access` - 创建访问权限
- `PUT /api/political-access/{id}` - 更新访问权限
- `DELETE /api/political-access/{id}` - 删除访问权限
- `PUT /api/political-access/{id}/toggle-active` - 切换激活状态

### 数据库表

`political_view_access` 表包含以下字段：
- `id` - 主键
- `name` - 用户姓名（唯一）
- `description` - 描述信息
- `is_active` - 是否启用
- `created_at` - 创建时间
- `updated_at` - 更新时间

## 安全特性

1. **姓名唯一性**：系统确保每个姓名只能注册一次
2. **状态控制**：可以临时停用权限而不删除记录
3. **审计日志**：记录创建和更新时间
4. **前端验证**：实时验证用户输入

## 注意事项

1. 姓名区分大小写，请确保输入正确的姓名
2. 删除访问权限是永久性的，请谨慎操作
3. 停用权限可以随时重新启用
4. 建议定期清理不再需要的访问权限 